{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(query, perPage = 12) {\n    const searchParams = new URLSearchParams({\n        key: '44785846-fbfadd775113e3685d7630ccf',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: false,\n        per_page: perPage,\n    });\n    const url = `https://pixabay.com/api/?${searchParams}`;\n    \n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then((response) => {\n            if (!response.length) {\n                return response.hits;\n            }\n        })\n        .catch((error) => console.log(error));\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function clearGallery() {\n  const gallery = document.getElementById('gallery');\n  gallery.innerHTML = '';\n}\n\nlet lightBox;\nexport function displayImages(images) {\n    const gallery = document.getElementById('gallery');\n    gallery.insertAdjacentHTML('beforeend', images\n        .map(image => `\n        <div class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <div class=\"info\">\n                <p><strong>Likes:</strong><br>${image.likes}</p>\n                <p><strong>Views:</strong><br>${image.views}</p>\n                <p><strong>Comments:</strong><br>${image.comments}</p>\n                <p><strong>Downloads:</strong><br>${image.downloads}</p>\n            </div>\n        </div>`).join('')\n    );\n    if (lightBox) {\n        lightBox.refresh();\n    } else {\n        lightBox = new SimpleLightbox('.gallery a');\n    }    \n}\n\nexport function showLoading() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'inline-block';\n}\n\nexport function hideLoading() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'none';\n}\n\nexport function notFoundMessage() {\n  iziToast.warning({\n    title: 'Not found',\n    message: 'Sorry, there are no images matching search query. Please try again!',\n    position: 'topRight',\n  });\n}\n\nexport function errorMessage(error) {\n  iziToast.error({\n    title: 'Error',\n    message: error.message,\n    position: 'topRight',\n  });\n}","import {\n    fetchImages\n  } from './js/pixabay-api';\n  import {\n    clearGallery,\n    displayImages,\n    showLoading,\n    hideLoading,\n    notFoundMessage,\n    errorMessage,\n  } from './js/render-functions.js';\n  \n  document.getElementById('searchButton').addEventListener('click', async () => {\n    const query = document.getElementById('searchInput').value.trim();\n    if (query === '') {\n      return;\n    }\n    clearGallery();\n    showLoading();\n    const perPage = 16;\n    try {\n      const images = await fetchImages(query, perPage);\n      if (images.length === 0) {\n        notFoundMessage();\n      } else {\n        displayImages(images);\n      }\n    } catch (error) {  \n      errorMessage(error);\n    } finally {\n      hideLoading();\n    }\n  });"],"names":["fetchImages","query","perPage","url","response","error","clearGallery","gallery","lightBox","displayImages","images","image","SimpleLightbox","showLoading","loader","hideLoading","notFoundMessage","iziToast","errorMessage"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAOC,EAAU,GAAI,CASnD,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUC,CAClB,CAAK,CACmD,GAEpD,OAAO,MAAMC,CAAG,EACX,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMA,GAAa,CAChB,GAAI,CAACA,EAAS,OACV,OAAOA,EAAS,IAEhC,CAAS,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CAC5C,CCnBO,SAASC,GAAe,CAC7B,MAAMC,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAY,EACtB,CAEA,IAAIC,EACG,SAASC,EAAcC,EAAQ,CAClB,SAAS,eAAe,SAAS,EACzC,mBAAmB,YAAaA,EACnC,IAAIC,GAAS;AAAA;AAAA,uBAECA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,gDAGlBA,EAAM,KAAK;AAAA,gDACXA,EAAM,KAAK;AAAA,mDACRA,EAAM,QAAQ;AAAA,oDACbA,EAAM,SAAS;AAAA;AAAA,eAEpD,EAAE,KAAK,EAAE,CACxB,EACQH,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAII,EAAe,YAAY,CAElD,CAEO,SAASC,GAAc,CAC5B,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,cACzB,CAEO,SAASC,GAAc,CAC5B,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEO,SAASE,GAAkB,CAChCC,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,sEACT,SAAU,UACd,CAAG,CACH,CAEO,SAASC,EAAab,EAAO,CAClCY,EAAS,MAAM,CACb,MAAO,QACP,QAASZ,EAAM,QACf,SAAU,UACd,CAAG,CACH,CC9CE,SAAS,eAAe,cAAc,EAAE,iBAAiB,QAAS,SAAY,CAC5E,MAAMJ,EAAQ,SAAS,eAAe,aAAa,EAAE,MAAM,OAC3D,GAAIA,IAAU,GACZ,OAEFK,IACAO,IACA,MAAMX,EAAU,GAChB,GAAI,CACF,MAAMQ,EAAS,MAAMV,EAAYC,EAAOC,CAAO,EAC3CQ,EAAO,SAAW,EACpBM,IAEAP,EAAcC,CAAM,CAEvB,OAAQL,EAAO,CACda,EAAab,CAAK,CACxB,QAAc,CACRU,GACD,CACL,CAAG"}